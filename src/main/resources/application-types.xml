<?xml version='1.0' encoding='UTF-8'?>
<types:mule xmlns:types="http://www.mulesoft.org/schema/mule/types">
  <types:catalog>
    <types:type name="String" format="java">
      <types:shape format="raml"><![CDATA[#%RAML 1.0 DataType
type: string]]></types:shape>
    </types:type>
    <types:type name="racer" format="json">
      <types:shape format="weave" example="examples/example-racer.json"><![CDATA[%dw 2.0

type racer = {|
  displayName: String, 
  email: String, 
  racerId: String, 
  clientId: String
|} {"example": "{\\\"displayName\\\":\\\"Tweety Bird\\\",\\\"email\\\":\\\"tweety@wb.com\\\",\\\"racerId\\\":\\\"b713a4e7-ca9e-4ea1-80c5-d97a36fc8d71\\\",\\\"clientId\\\":\\\"tweety\\\"}"}

]]></types:shape>
    </types:type>
    <types:type name="racers" format="json">
      <types:shape format="weave" example="examples/example-racers.json"><![CDATA[%dw 2.0

type racers = {|
  "racer.b713a4e7-ca9e-4ea1-80c5-d97a36fc8d71": {|
    displayName: String, 
    email: String, 
    racerId: String, 
    clientId: String
  |}, 
  "racer.99e090b5-54fb-45e4-96f8-f368bb09e65d": {|
    displayName: String, 
    email: String, 
    racerId: String, 
    clientId: String
  |}
|} {"example": "{\\\"racer.b713a4e7-ca9e-4ea1-80c5-d97a36fc8d71\\\":{\\\"displayName\\\":\\\"Tweety Bird\\\",\\\"email\\\":\\\"tweety@wb.com\\\",\\\"racerId\\\":\\\"b713a4e7-ca9e-4ea1-80c5-d97a36fc8d71\\\",\\\"clientId\\\":\\\"tweety\\\"},\\\"racer.99e090b5-54fb-45e4-96f8-f368bb09e65d\\\":{\\\"displayName\\\":\\\"Sylvester\\\",\\\"email\\\":\\\"sylvester@wb.com\\\",\\\"racerId\\\":\\\"99e090b5-54fb-45e4-96f8-f368bb09e65d\\\",\\\"clientId\\\":\\\"sylvester\\\"}}"}

]]></types:shape>
    </types:type>
    <types:type name="race" format="json">
      <types:shape format="weave" example="examples/example-race-2.json"><![CDATA[%dw 2.0

type race = {|
  racerId: String, 
  raceId: String, 
  token: String, 
  start: String, 
  url: String, 
  finish: String
|} {"example": "{\\\"racerId\\\":\\\"99e090b5-54fb-45e4-96f8-f368bb09e65d\\\",\\\"raceId\\\":\\\"ec6dd17b-5de4-4f88-aa4e-3fe1be28b9a4\\\",\\\"token\\\":\\\"03558be5-b388-4f35-987a-e3216c1efcc8\\\",\\\"start\\\":\\\"2023-07-31T16:29:00.317753Z\\\",\\\"url\\\":\\\"http:\\/\\/mockbin.org\\/bin\\/c919b528-86c4-413d-a516-8c9c4b795387\\\",\\\"finish\\\":\\\"2023-07-31T16:31:22.585732Z\\\"}"}

]]></types:shape>
    </types:type>
    <types:type name="raceResult" format="json">
      <types:shape format="weave" example="examples/example-race-result.json"><![CDATA[%dw 2.0

type raceResult = {|
  racerId: String, 
  raceId: String, 
  token: String, 
  start: String, 
  finish: String, 
  racer: {|
    displayName: String, 
    email: String, 
    racerId: String, 
    clientId: String
  |}
|} {"example": "{\\\"racerId\\\":\\\"99e090b5-54fb-45e4-96f8-f368bb09e65d\\\",\\\"raceId\\\":\\\"ec6dd17b-5de4-4f88-aa4e-3fe1be28b9a4\\\",\\\"token\\\":\\\"03558be5-b388-4f35-987a-e3216c1efcc8\\\",\\\"start\\\":\\\"2023-07-31T16:29:00.317753Z\\\",\\\"finish\\\":\\\"2023-07-31T16:31:22.585732Z\\\",\\\"racer\\\":{\\\"displayName\\\":\\\"Tweety Bird\\\",\\\"email\\\":\\\"tweety@wb.com\\\",\\\"racerId\\\":\\\"b713a4e7-ca9e-4ea1-80c5-d97a36fc8d71\\\",\\\"clientId\\\":\\\"tweety\\\"}}"}

]]></types:shape>
    </types:type>
    <types:type name="raceState" format="java">
      <types:shape format="raml"><![CDATA[#%RAML 1.0 DataType
type: object
properties:
    endpoint: string
    racerId: string
    raceType: string
    start: datetime
    laps?: integer]]></types:shape>
    </types:type>
    <types:type name="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Input-Payload" format="java">
      <types:shape format="weave" example="weave/autogenerated/a3287cbc-a972-4405-8409-cddc92968ce0/Input-Payload.wev" autogeneratedOrigin="99f30eb8-6fc4-40c5-8eaf-f5051bca213e"><![CDATA[%dw 2.0

type auto_a3287cbc_a972_4405_8409_cddc92968ce0_Input_Payload = Any

]]></types:shape>
    </types:type>
    <types:type name="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Input-Attributes" format="java">
      <types:shape format="weave" example="weave/autogenerated/a3287cbc-a972-4405-8409-cddc92968ce0/Input-Attributes.wev" autogeneratedOrigin="99f30eb8-6fc4-40c5-8eaf-f5051bca213e"><![CDATA[%dw 2.0

type auto_a3287cbc_a972_4405_8409_cddc92968ce0_Input_Attributes = {|
  clientCertificate?: {|
    publicKey?: {|  |}, 
    "type"?: String, 
    encoded?: Binary
  |}, 
  headers: {|  |}, 
  listenerPath: String, 
  method: String, 
  queryParams: {|  |}, 
  queryString: String, 
  relativePath: String, 
  remoteAddress: String, 
  requestPath: String, 
  requestUri: String, 
  scheme: String, 
  uriParams: {|  |}, 
  version: String, 
  localAddress: String
|}

]]></types:shape>
    </types:type>
    <types:type name="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Input-Variables-racerId" format="json">
      <types:shape format="weave" example="weave/autogenerated/a3287cbc-a972-4405-8409-cddc92968ce0/Input-Variables-racerId.wev" autogeneratedOrigin="99f30eb8-6fc4-40c5-8eaf-f5051bca213e"><![CDATA[%dw 2.0

type auto_a3287cbc_a972_4405_8409_cddc92968ce0_Input_Variables_racerId = String | Null

]]></types:shape>
    </types:type>
    <types:type name="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Input-Variables-authenticatedRacerResults" format="json">
      <types:shape format="weave" example="weave/autogenerated/a3287cbc-a972-4405-8409-cddc92968ce0/Input-Variables-authenticatedRacerResults.wev" autogeneratedOrigin="99f30eb8-6fc4-40c5-8eaf-f5051bca213e"><![CDATA[%dw 2.0

type auto_a3287cbc_a972_4405_8409_cddc92968ce0_Input_Variables_authenticatedRacerResults = Array<{  racerId: String,   _?: Any} | {  lastUpdated?: String,   racerId?: String,   clientId: String,   displayName: String,   baseUri?: String,   email: String,   _?: Any}>

]]></types:shape>
    </types:type>
    <types:type name="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Input-Variables-outboundHeaders" format="java">
      <types:shape format="weave" example="weave/autogenerated/a3287cbc-a972-4405-8409-cddc92968ce0/Input-Variables-outboundHeaders.wev" autogeneratedOrigin="99f30eb8-6fc4-40c5-8eaf-f5051bca213e"><![CDATA[%dw 2.0

type auto_a3287cbc_a972_4405_8409_cddc92968ce0_Input_Variables_outboundHeaders = {|  |}

]]></types:shape>
    </types:type>
    <types:type name="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Output-Payload" format="json">
      <types:shape format="weave" example="weave/autogenerated/a3287cbc-a972-4405-8409-cddc92968ce0/Output-Payload.wev" autogeneratedOrigin="99f30eb8-6fc4-40c5-8eaf-f5051bca213e"><![CDATA[%dw 2.0

type auto_a3287cbc_a972_4405_8409_cddc92968ce0_Output_Payload = {
  racerId: String, 
  details: String, 
  started: String, 
  entryId: String, 
  _?: Any
}

]]></types:shape>
    </types:type>
    <types:type name="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Output-Attributes" format="java">
      <types:shape format="weave" example="weave/autogenerated/a3287cbc-a972-4405-8409-cddc92968ce0/Output-Attributes.wev" autogeneratedOrigin="99f30eb8-6fc4-40c5-8eaf-f5051bca213e"><![CDATA[%dw 2.0

type auto_a3287cbc_a972_4405_8409_cddc92968ce0_Output_Attributes = {|
  headers?: { _?: String }, 
  reasonPhrase?: String, 
  statusCode?: Number
|} {"typeId": "org.mule.extension.http.api.HttpResponseAttributes"}

]]></types:shape>
    </types:type>
    <types:type name="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Output-Variables-racerId" format="json">
      <types:shape format="weave" example="weave/autogenerated/a3287cbc-a972-4405-8409-cddc92968ce0/Output-Variables-racerId.wev" autogeneratedOrigin="99f30eb8-6fc4-40c5-8eaf-f5051bca213e"><![CDATA[%dw 2.0

type auto_a3287cbc_a972_4405_8409_cddc92968ce0_Output_Variables_racerId = String | Null

]]></types:shape>
    </types:type>
    <types:type name="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Output-Variables-authenticatedRacerResults" format="json">
      <types:shape format="weave" example="weave/autogenerated/a3287cbc-a972-4405-8409-cddc92968ce0/Output-Variables-authenticatedRacerResults.wev" autogeneratedOrigin="99f30eb8-6fc4-40c5-8eaf-f5051bca213e"><![CDATA[%dw 2.0

type auto_a3287cbc_a972_4405_8409_cddc92968ce0_Output_Variables_authenticatedRacerResults = Array<{  racerId: String,   _?: Any} | {  lastUpdated?: String,   racerId?: String,   clientId: String,   displayName: String,   baseUri?: String,   email: String,   _?: Any}>

]]></types:shape>
    </types:type>
    <types:type name="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Output-Variables-outboundHeaders" format="java">
      <types:shape format="weave" example="weave/autogenerated/a3287cbc-a972-4405-8409-cddc92968ce0/Output-Variables-outboundHeaders.wev" autogeneratedOrigin="99f30eb8-6fc4-40c5-8eaf-f5051bca213e"><![CDATA[%dw 2.0

type auto_a3287cbc_a972_4405_8409_cddc92968ce0_Output_Variables_outboundHeaders = {|  |}

]]></types:shape>
    </types:type>
    <types:type name="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Input-Payload" format="json">
      <types:shape format="weave" example="weave/autogenerated/7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be/Input-Payload.wev" autogeneratedOrigin="af973961-b5d4-4d58-9584-62b4df5e3e27"><![CDATA[%dw 2.0

type auto_7edfeca7_3d19_4a8a_94cb_b4ba51dfb9be_Input_Payload = {
  baseUri: String, 
  name: String, 
  id?: String, 
  email: String, 
  _?: Any
}

]]></types:shape>
    </types:type>
    <types:type name="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Input-Attributes" format="java">
      <types:shape format="weave" example="weave/autogenerated/7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be/Input-Attributes.wev" autogeneratedOrigin="af973961-b5d4-4d58-9584-62b4df5e3e27"><![CDATA[%dw 2.0

type auto_7edfeca7_3d19_4a8a_94cb_b4ba51dfb9be_Input_Attributes = {|
  clientCertificate?: {|
    publicKey?: {|  |}, 
    "type"?: String, 
    encoded?: Binary
  |}, 
  headers: {|  |}, 
  listenerPath: String, 
  method: String, 
  queryParams: {|  |}, 
  queryString: String, 
  relativePath: String, 
  remoteAddress: String, 
  requestPath: String, 
  requestUri: String, 
  scheme: String, 
  uriParams: {|  |}, 
  version: String, 
  localAddress: String
|}

]]></types:shape>
    </types:type>
    <types:type name="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Input-Variables-outboundHeaders" format="java">
      <types:shape format="weave" example="weave/autogenerated/7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be/Input-Variables-outboundHeaders.wev" autogeneratedOrigin="af973961-b5d4-4d58-9584-62b4df5e3e27"><![CDATA[%dw 2.0

type auto_7edfeca7_3d19_4a8a_94cb_b4ba51dfb9be_Input_Variables_outboundHeaders = {|  |}

]]></types:shape>
    </types:type>
    <types:type name="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Input-Variables-httpStatus" format="java">
      <types:shape format="raml" autogeneratedOrigin="af973961-b5d4-4d58-9584-62b4df5e3e27"><![CDATA[#%RAML 1.0 DataType
type: string]]></types:shape>
    </types:type>
    <types:type name="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Output-Payload" format="json">
      <types:shape format="weave" example="weave/autogenerated/7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be/Output-Payload.wev" autogeneratedOrigin="af973961-b5d4-4d58-9584-62b4df5e3e27"><![CDATA[%dw 2.0

type auto_7edfeca7_3d19_4a8a_94cb_b4ba51dfb9be_Output_Payload = {
  racerId: String, 
  clientId: String, 
  name: String, 
  email: String, 
  _?: Any
}

]]></types:shape>
    </types:type>
    <types:type name="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Output-Attributes" format="java">
      <types:shape format="weave" example="weave/autogenerated/7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be/Output-Attributes.wev" autogeneratedOrigin="af973961-b5d4-4d58-9584-62b4df5e3e27"><![CDATA[%dw 2.0

type auto_7edfeca7_3d19_4a8a_94cb_b4ba51dfb9be_Output_Attributes = {|
  clientCertificate?: {|
    publicKey?: {|  |}, 
    "type"?: String, 
    encoded?: Binary
  |}, 
  headers: {|  |}, 
  listenerPath: String, 
  method: String, 
  queryParams: {|  |}, 
  queryString: String, 
  relativePath: String, 
  remoteAddress: String, 
  requestPath: String, 
  requestUri: String, 
  scheme: String, 
  uriParams: {|  |}, 
  version: String, 
  localAddress: String
|}

]]></types:shape>
    </types:type>
    <types:type name="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Output-Variables-outboundHeaders" format="java">
      <types:shape format="weave" example="weave/autogenerated/7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be/Output-Variables-outboundHeaders.wev" autogeneratedOrigin="af973961-b5d4-4d58-9584-62b4df5e3e27"><![CDATA[%dw 2.0

type auto_7edfeca7_3d19_4a8a_94cb_b4ba51dfb9be_Output_Variables_outboundHeaders = {|  |}

]]></types:shape>
    </types:type>
    <types:type name="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Output-Variables-racerId" format="java">
      <types:shape format="raml" autogeneratedOrigin="af973961-b5d4-4d58-9584-62b4df5e3e27"><![CDATA[#%RAML 1.0 DataType
type: string]]></types:shape>
    </types:type>
    <types:type name="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Output-Variables-httpStatus" format="java">
      <types:shape format="raml" autogeneratedOrigin="af973961-b5d4-4d58-9584-62b4df5e3e27"><![CDATA[#%RAML 1.0 DataType
type: string]]></types:shape>
    </types:type>
  </types:catalog>
  <types:enrichment select="#0c7b9d6c-682b-423e-86e9-4bc58586110a">
    <types:processor-declaration>
      <types:input-event>
        <types:variables>
          <types:variable name="racerId" type="String"/>
        </types:variables>
      </types:input-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#2f7b3f1d-bbb1-42a6-8161-0c0b6614489a">
    <types:processor-declaration>
      <types:output-event>
        <types:variables>
          <types:variable name="racer" type="racer"/>
        </types:variables>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#0c135073-61c9-4b3c-8f6d-7559696deb8f">
    <types:processor-declaration>
      <types:output-event>
        <types:message>
          <types:payload type="racers"/>
        </types:message>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#7bf144d0-9fb5-43a7-8514-e398172b6968">
    <types:processor-declaration>
      <types:output-event>
        <types:message>
          <types:payload type="raceResult[]"/>
        </types:message>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#cbf9a2b4-f0ba-47cd-b369-9d7862b74062">
    <types:processor-declaration>
      <types:input-event>
        <types:variables>
          <types:variable name="race" type="race"/>
        </types:variables>
      </types:input-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#b235d514-2ccb-484c-adfe-c4539f577b0c">
    <types:processor-declaration>
      <types:output-event>
        <types:message>
          <types:payload type="raceState"/>
        </types:message>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#229f3dfe-596a-4682-b3fa-ae421a87ba6a">
    <types:processor-declaration>
      <types:input-event>
        <types:variables>
          <types:variable name="raceDataKey" type="String"/>
        </types:variables>
      </types:input-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#12b734b4-77c4-4324-bcbb-f73e883ddb86">
    <types:processor-declaration>
      <types:input-event>
        <types:message>
          <types:payload type="raceState"/>
        </types:message>
      </types:input-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#840759b6-1cb8-40fa-bc7f-7106bd4feafc">
    <types:processor-declaration>
      <types:input-event>
        <types:message>
          <types:payload type="raceState"/>
        </types:message>
      </types:input-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#3cd8ba3c-6a7b-4625-86cc-371a6adf98e3">
    <types:processor-declaration>
      <types:input-event>
        <types:message>
          <types:payload type="raceState"/>
        </types:message>
      </types:input-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#eb2bb382-ff30-4d8f-b9bf-7a06b5de8823">
    <types:processor-declaration>
      <types:input-event>
        <types:variables>
          <types:variable name="racerId" type="String"/>
        </types:variables>
      </types:input-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#a3287cbc-a972-4405-8409-cddc92968ce0">
    <types:processor-declaration>
      <types:input-event>
        <types:message>
          <types:payload type="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Input-Payload"/>
          <types:attributes type="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Input-Attributes"/>
        </types:message>
        <types:variables>
          <types:variable name="outboundHeaders" type="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Input-Variables-outboundHeaders"/>
          <types:variable name="racerId" type="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Input-Variables-racerId"/>
          <types:variable name="authenticatedRacerResults" type="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Input-Variables-authenticatedRacerResults"/>
        </types:variables>
      </types:input-event>
      <types:output-event>
        <types:message>
          <types:payload type="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Output-Payload"/>
          <types:attributes type="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Output-Attributes"/>
        </types:message>
        <types:variables>
          <types:variable name="outboundHeaders" type="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Output-Variables-outboundHeaders"/>
          <types:variable name="racerId" type="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Output-Variables-racerId"/>
          <types:variable name="authenticatedRacerResults" type="auto_a3287cbc-a972-4405-8409-cddc92968ce0_Output-Variables-authenticatedRacerResults"/>
        </types:variables>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be">
    <types:processor-declaration>
      <types:input-event>
        <types:message>
          <types:payload type="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Input-Payload"/>
          <types:attributes type="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Input-Attributes"/>
        </types:message>
        <types:variables>
          <types:variable name="outboundHeaders" type="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Input-Variables-outboundHeaders"/>
          <types:variable name="httpStatus" type="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Input-Variables-httpStatus"/>
        </types:variables>
      </types:input-event>
      <types:output-event>
        <types:message>
          <types:payload type="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Output-Payload"/>
          <types:attributes type="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Output-Attributes"/>
        </types:message>
        <types:variables>
          <types:variable name="outboundHeaders" type="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Output-Variables-outboundHeaders"/>
          <types:variable name="racerId" type="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Output-Variables-racerId"/>
          <types:variable name="httpStatus" type="auto_7edfeca7-3d19-4a8a-94cb-b4ba51dfb9be_Output-Variables-httpStatus"/>
        </types:variables>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#d51a1505-ed60-4a11-8518-01b701dc8fe3">
    <types:processor-declaration>
      <types:input-event>
        <types:variables>
          <types:variable name="clientId" type="String"/>
        </types:variables>
      </types:input-event>
    </types:processor-declaration>
  </types:enrichment>
</types:mule>